# Delete previous containers
docker-compose -f bin/config/docker/docker-compose.dev.yml down

# Build project
docker-compose -f bin/config/docker/docker-compose.dev.yml up --build -d

# Generate .env.dev file
docker-compose -f bin/config/docker/docker-compose.dev.yml run django chmod +x ./bin/config/docker/bin/env-dev.sh
docker-compose -f bin/config/docker/docker-compose.dev.yml run django ./bin/config/docker/bin/env-dev.sh

# Execute db-update (make & run migrations)
docker-compose -f bin/config/docker/docker-compose.dev.yml run django chmod +x ./bin/config/docker/bin/update-db.sh
docker-compose -f bin/config/docker/docker-compose.dev.yml run django ./bin/config/docker/bin/update-db.sh

# Generate docs
docker-compose -f bin/config/docker/docker-compose.dev.yml run django sphinx-build -E -b html ./docs ./bin/docs-build

# Restart server
docker-compose -f bin/config/docker/docker-compose.dev.yml restart