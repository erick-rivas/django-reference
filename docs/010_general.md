# Django Reference

## Table of content

-   [Project structure](#project-structure)
-   [Installation](#installation)
    -   [Pre-requisites](#pre-requisites)
    -   [Initial setup](#initial-setup)
-   [Database management](#database-management)
-   [Execution](#execution)
    -   [Examples](#examples)
-   [Testing](#testing)
    

## Project structure

-   **/routes**: Api routes extensions (Custom endpoints definitions)
-   **/domain**: Business logic methods
-   **/models**: Data model extensions. (Database model representation)
-   **/models/fixtures**: Initial data inserts (e.g. dummy data and catalogs)
-   /app/settings.py: Django settings
-   /seed: Autogenerated files produced by seed-builder: It includes model definitions, CRUD endpoint creation, serializers and graphql implementation
    >   *These files are *read-only*, modifiable only through [seed-builder](./060_seed_builder.md)*


## Installation

### Pre-requisites

-   Download & Install [Docker Engine](https://docs.docker.com/engine/install/)
-   Download & Install [Docker Compose](https://docs.docker.com/compose/install/)
-   Download & install [PyCharm CE](https://www.jetbrains.com/pycharm/download/) (optional)

### Initial setup

-   Clone this repository
-   Set execute permissions to scripts (linux) `chmod +x bin/*`
-   Execute setup script `bin/setup`
    >   For linux is necessary to execute commands as root (e.g. sudo bin/setup)
-   Optionally configure .env.dev fields with custom server attributes, database connections, secret keys, etc

## Database management

-   To update database (migration, fixtures) execute `./bin/update`
-   To open db manager (psql) execute `./bin/query`


## Execution

-   Start / Restart server `bin/start`
-   Stop server `bin/stop`
-   Open server shell `bin/shell`
>   *It is useful to execute specific django commands*

### Examples

-   API browser: [http://localhost:8000/api](http://localhost:8000/api)
-   Graphql browser: [http://localhost:8000/graphql](http://localhost:8000/graphql)
-   Admin pane: [http://localhost:8000/admin](http://localhost:8000/admin)
>   *To access admin pane, create a user fixture with the *is_superuser* attribute set to true*

## Testing

-   Test use cases `bin/test`
-   Analyze code coverage `bin/coverage`