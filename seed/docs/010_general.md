# Django reference

## Project structure

-   **/routes**: Custom endpoint definitions (API extensions)
-   **/domain**: Business logic methods
-   **/models/fixtures**: Data inserts (e.g. dummy data, catalogs, users)
-   /models: Data model extensions
-   /app/settings.py: Custom django settings
-	.env.*: Project variables (e.g. DB credentials, secrets, host urls) 
-   /seed: Autogenerated files produced by seed-builder: It includes model definitions, CRUD endpoint creation, serializers and graphql implementation
    >   *These files are *read-only*, modifiable only through [seed-builder](110_seed_builder.md)*
    
## Development

### Project variables

- To change project variables (db_credentials, email, etc) adjust `.env.docker.dev` or in case of native implementation modify `.env.dev`
    >   Tip: For common variables values that ARE NOT SECRET, it is recommended to modify .env.example for reuse values in future implementations

- To modify environment variables of docker (e.g. IS_PROD) execute `bin/setup` with their respective parameters.
    >   In case of require native modifications, check O.S. specification (e.g. For ubuntu 20.04 modify `~/.bash_profile`)

### Database management

-   To generate and run migrations, execute `bin/migrate`
-   To load fixtures, execute `bin/fixtures`
   - To load fixtures of an specific folder, execute `bin/fixtures <Folder_Name>`
-   To open db manager to run sql queries, execute `bin/psql`
-   To dump database in .yaml format, execute `bin/dump <Model_Name>`

### Testing & QA

-   TO show server logs, execute `bin/logs`
    - To show specific logs, execute `bin/logs <Scope (all|django|celery)> <Only_Latest> <Max_Lines>`
-   To test use cases, execute `bin/test`
    - To test specific folder, execute `bin/test <Folder_Name>`
-   To run code from debug_.py file, execute `bin/debug`
-   To review code quality, execute `bin/review`
    >   Before run review command, install [Codacy CLI](https://github.com/codacy/codacy-analysis-cli)
-   To generate code coverage report, execute `bin/coverage`

### Docker

-   To execute command in the container (e.g. > ls or > python -v ), execute `bin/terminal`
-   To clean unused docker resources, execute `bin/clean`

## Other resources

-   [Routes docs](020_routes.md)
-   [Domain docs](030_domain.md)
-   [Models docs](040_models.md)
-   [Seed builder](110_seed_builder.md)
-   [Seed commons](120_seed_commons.md)
-   [Deploy - Ubuntu](210_deploy_ubuntu.md)